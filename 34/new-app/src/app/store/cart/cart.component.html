<div class="container-fluid">
    <app-header></app-header>    
    <div class="row">
        <div class="col">
            <h2 class="text-center">Your Cart</h2>
            <table class="table table-striped table-bordered p-2">
                <tr>
                    <th>Quantity</th>
                    <th>Product</th>
                    <th class="text-right">Price</th>
                    <th class="text-right">Subtotal</th>                
                </tr>
                <tr *ngFor="let line of cartLines">
                    <td>{{line.count}}
                        <button (click)= "plus(line)" class="m-1">+</button>
                        <button (click)= "minus(line)" class="m-1">-</button>
                    </td>
                    <td>{{line.product.name}}</td>
                    <td class="text-right">{{line.product.price}}</td>
                    <td class="text-right">{{line.count * line.product.price}}</td>
                    <td class="text-center">
                        <button (click) = "removeLine(line.product.id)" class="btn btn-danger">Remove</button>
                    </td>
                </tr>
                <tr>
                    <td colspan="3" class="text-right">Total:</td>
                    <td class="text-right">{{calculateTotal()}}</td>
                </tr>
            </table> 
        </div>               
    </div>
    <div class="row">
        <div class="col text-center">
            <button (click) = "goToStore()" class="btn btn-primary m-1">Continue shopping</button>
            <button (click) = "goToCheckout()" class="btn btn-secondary m-1">Checkout</button>
        </div>
    </div>
</div>


